<?xml version="1.0" encoding="utf-8"?>
<Templates format="2" protocolVersion="62">
	<Template id="0425ed41-3fd8-4516-b6d1-3edd2a350d68" revision="1.0">
		<Name>PowerView Hub</Name>
		<CcuModel>PacketParserCCU</CcuModel>
		<Description></Description>
		<RevisionHistory>
			<Revision id="1.0">Initial version</Revision>
		</RevisionHistory>
		<ImportParameters>
			<Parameter>
				<Name>${ipAddress}</Name>
				<Value>192.168.0.1</Value>
				<Id>IpAddress</Id>
			</Parameter>
			<Parameter>
				<Name>Internal poll interval</Name>
				<Value>10000</Value>
				<Id>internalPollInterval</Id>
			</Parameter>
		</ImportParameters>
		<Module>
			<Name>PowerView Hub</Name>
			<Model>PacketParserModule</Model>
			<DeviceProperties>
				<IpAddress>$[IpAddress]</IpAddress>
				<Port>80</Port>
				<StayConnected>False</StayConnected>
				<ConnectionType>http</ConnectionType>
				<InternalPollInterval>$[internalPollInterval]</InternalPollInterval>
				<CustomVariables>[{"Name":"SlideDeviceId","ValueTypeId":1,"NumericValue":1.0,"StringValue":null}]</CustomVariables>
			</DeviceProperties>
			<Devices>
				<Device>
					<Name>PowerView Slide</Name>
					<Model>PacketParserSlide</Model>
					<DeviceProperties>
						<InternalPollInterval>$[internalPollInterval]</InternalPollInterval>
						<ReadBlindsLevelRequest>{"Path":{"Script":"\"/api/shades/\" + SlideDeviceId","IsPlainText":false},"Content":{"Script":null,"IsPlainText":true},"Headers":{"Script":null,"IsPlainText":true},"Method":"GET","Mode":2,"ParseScript":"VAR pos := PARSEJSON(VALUERESPONSE, \"$.shade.positions.position1\");\r\n\r\n1 - (pos/65535)"}</ReadBlindsLevelRequest>
						<WriteBlindsLevelRequest>{"Path":{"Script":"\"/api/shades/\" + SlideDeviceId","IsPlainText":false},"Content":{"Script":"VAR pos := ROUND((1 - Bl) * 65535);\r\n\r\n\"{\\\"shade\\\": { \\\"positions\\\": { \\\"posKind1\\\": 1, \\\"position1\\\":\" + pos + \"}}}\"","IsPlainText":false},"Headers":{"Script":"Content-Type:application/json","IsPlainText":true},"Method":"PUT","Mode":2,"ParseScript":null}</WriteBlindsLevelRequest>
					</DeviceProperties>
				</Device>
			</Devices>
		</Module>
	</Template>
</Templates>
